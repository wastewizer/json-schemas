{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "description": "A weight updated message for a container site",
  "additionalProperties": {
    "anyOf": [
      {
        "type": "string"
      },
      {
        "type": "number"
      }
    ],
    "description": "Additional client defined properties"
  },
  "properties": {
    "d": {
      "type": "object",
      "description": "The data of the update",
      "properties": {
        "ts": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp of the update in ISO 8601 format"
        },
        "w": {
          "type": "number",
          "description": "The current estimated weight in kilograms"
        },
        "mw": {
          "type": "number",
          "description": "The maximum weight in kilograms"
        }
      },
      "required": ["ts", "w", "mw"]
    },
    "m": {
      "type": "object",
      "description": "Metadata about the update",
      "properties": {
        "pts": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp the message was published in ISO 8601 format"
        },
        "ptse": {
          "type": "number",
          "description": "The milliseconds since the epoch of when the message was published"
        }
      },
      "required": ["pts", "ptse"]
    }
  },
  "required": ["d", "m"]
}
